# day05 第二部分  多线程

并发：指两个或多个时间同一时间段内发生

并行：指两个或多个时间在同一时刻内发生（同时发生）



**进程：**是指一个内存中运行的应用程序，每个进程都有一个独立的内存空间，一个应用程序可以同时运行多个进程，进程也是程序的一次执行过程，是系统运行程序的基本单位；系统运行一个程序即是一个进程从创建、运行到消亡的过程

**线程：**线程是进程中的一个执行单元，负责当前进程中程序的执行，一个进程中至少有一个线程，一个进程中是可以有多个线程的，这个应用程序也可以称之为多线程程序

简而言之：一个程序运行后至少有一个进程，一个进程中可以包含多个线程

**多线程的好处：**

1. 效率高
2. 多个线程之间互不影响

**线程的调度：**

* 分时调度 ：所有线程轮流使用CPU的使用权，平均分配每个线程占用CPU的时间
* 抢占式调度：优先让优先级高的线程使用CPU，如果线程的优先级相同，那么会随机选择一个（线程随机性）java使用的为抢占式调度

【线程的优先级可以设置】



**主线程：**  执行主（main）方法的线程

**单线程程序：**java程序中只有一个线程，执行从main方法开始，从上到下依次执行

**创建多线程的java程序：**

创建新执行线程有两种方法，**一种方法是将类声明为Thread类的子类**。该子类应重写Thread类的run方法。接下来可以分配并启动该子类的实例  。如：计算大于某一规定值的质数的线程可以写成：             然后，下列代码会创建并启动一个线程

**实现步骤**：

1. 创建要给Thread类的子类

2. 在Thread类的子类中重写Thread类中的run方法，设置线程任务（开启线程要做什么）

3. 创建Thread类的子类对象

4. 调用Thread类中的方法start方法，执行run方法。

   void start() 使该线程开始执行；java虚拟机调用该线程的run方法。结果是两个线程并发的运行，当前线程（main线程）和另一个线程（创建的新线程，执行其run方法）。多次启动一个线程是非法的。特别是当前线程已经结束执行后，不能再重新启动

   Java程序属于抢占式调度，哪个线程的优先级高，哪个线程优先执行，同一个优先级，随机选择一个执行